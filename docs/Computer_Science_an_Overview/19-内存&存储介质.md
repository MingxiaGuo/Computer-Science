# 19 内存&存储介质

01

存储器定义

系列中我们多次谈到内存（Memory），甚至在前面设计了一个简单内存。
一般来说，电脑内存是 "非永久性"，如果 Xbox 电源线不小心拔掉了，内存里所有数据都会丢失。所以内存叫"易失性"存储器。
我们还没谈过的话题是存储器（Storage），存储器（Storage）和内存（Memory）有点不同，任何写入"存储器"的数据，比如你的硬盘数据会一直存着，直到被覆盖或删除，断电也不会丢失，存储器是"非易失性"的。
以前是"易失性"的速度快，"非易失性"的速度慢，但随着技术发展，两者的差异越来越小。如今我们认为稀松平常的技术，比如这个 U 盘能低成本+可靠+长时间  存储上 GB 的数据。

02

纸卡

但以前可不是这样的，最早的存储介质是 打孔纸卡以及打孔纸带。到1940年代，纸卡标准是 80列x12行，一张卡能存 960 位数据 (80x12=960)。据我们所知的  最大纸卡程序是美国军方的"半自动地面防空系统" 简称 SAGE。一个在 1958 年投入使用的防空系统，主程序存储在 62,500 个纸卡上，大小 5MB 左右, 相当如今手机拍张照。

03

延迟线存储器

纸卡用了十几年，因为不用电而且便宜耐用，然而坏处是读取慢，只能写入一次，打的孔无法轻易补上，对于存临时值，纸卡不好用。我们需要更快更大更灵活的存储方式。J. Presper Eckert 在 1944 年建造 ENIAC 时发明了一种方法叫"延迟线存储器"（Delay Line Memory）原理如下：
拿一个管子装满液体，如水银，管子一端放扬声器，另一端放麦克风，扬声器发出脉冲时  会产生压力波，压力波需要时间  传播到另一端的麦克风，麦克风将压力波 转换回电信号。我们可以用压力波的传播延迟来存储数据。
假设有压力波代表 1，没有代表 0，扬声器可以输出 1010 0111。压力波沿管子传播，过了一会儿，撞上麦克风，将信号转换回 1 和 0。如果加一个电路，连接麦克风和扬声器，再加一个放大器（Amplifier）来弥补信号衰弱，就能做一个存储数据的循环。信号沿电线传播几乎是瞬时的，所以任何时间点只显示  1 bit 数据，但管子中可以存储多个位(bit)。
忙完 ENIAC 后，Eckert 和同事 John Mauchly，着手做一个更大更好的计算机叫 EDVAC，使用了延迟线存储器，总共有 128 条延迟线，每条能存 352 位（bits），总共能存 45,000 位(bit)。对 1949 年来说还不错。这使得 EDVAC 成为最早的 "存储程序计算机" 之一。
我们在前面讨论过，但"延迟线存储器"的一大缺点是每一个时刻只能读一位 (bit) 数据，如果想访问一个特定的 bit，比如第 112 位(bit)，你得等待它从循环中出现，所以又叫 "顺序存储器"或"循环存储器"。而我们想要的是 "随机存取存储器" 可以随时访问任何位置。
增加内存密度也是一个挑战，把压力波变得更紧密  意味着更容易混在一起，所以出现了其他类型的 "延迟线存储器"。如 "磁致伸缩延迟存储器"，用金属线的振动来代表数据，通过把线卷成线圈，1英尺×1英尺的面积能存储大概 1000位(bit)。

04

磁芯存储器

然而，延迟线存储器在 1950 年代中期就基本过时了，因为出现了新技术，性能,可靠性和成本都更好的"磁芯存储器"，用了像甜甜圈的小型磁圈。如果给磁芯绕上电线，并施加电流，可以将磁化在一个方向，如果关掉电流，磁芯保持磁化，如果沿相反方向施加电流，磁化的方向（极性）会翻转，这样就可以存 1 和 0。如果只存 1 位不够有用，所以把小甜甜圈排列成网格，有电线负责选行和列也有电线贯穿每个磁芯, 用于读写一位(bit)。
我手上有一块磁芯存储器，每个黄色方格  有32行x32列的磁芯，每个磁芯存 1 位数据，所以能存 1024 位(bit)  (32x32=1024)。总共 9 个黄色方格，所以这块板子最多能存 9216 位(bit) (1024x9=9216)，换算过来大约是 9 千字节  (9216 bit ~= 9 kb)。
磁芯内存的第一次大规模运用是 1953 年麻省理工学院的 Whirlwind 1 计算机，磁芯排列是 32×32，用了 16 块板子，能存储大约 16000 位(bit)。更重要的是，不像"延迟线存储器" 磁芯存储器能随时访问任何一位(bit)，这在当时非常了不起。
"磁芯存储器" 从 1950 年代中期开始成为主流，流行了 20 多年,而且一般还是手工编织的.
刚开始时  存储成本大约 1 美元 1 位(bit)，到1970年代，下降到 1 美分左右。不幸的是，即使每位 1 美分也不够便宜。之前提过，现代手机随便拍张照片都有 5 MB，5MB 约等于 4000 万 bit，你愿意花 40 万美元在"磁芯存储器"上存照片吗？如果你有这么多钱，我的下面有打赏，你可以看着办。

相关阅读：

 

————————————————
版权声明：本文为CSDN博主「编程真知」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/cq20110310/article/details/100909593

01

磁带

对存储技术进行了大量的研究，到 1951 年，Eckert 和 Mauchly 创立了自己的公司，设计了一台叫 UNIVAC 的新电脑，最早进行商业销售的电脑之一。它推出了一种新存储：磁带。磁带是纤薄柔软的一长条磁性带子  卷在轴上，磁带可以在"磁带驱动器"内前后移动，里面有一个"写头"绕了电线，电流通过产生磁场，导致磁带的一小部分被磁化。电流方向决定了极性，代表 1 和 0，还有一个"读头"，可以非破坏性地检测极性。
UNIVAC 用了半英寸宽，8条并行的磁带，磁带每英寸可存 128 位数据，每卷有 1200 英尺长，意味着一共可以存 1500 万位左右，接近2兆字节！（2 MB）。
虽然磁带驱动器很贵，但磁带又便宜又小，因此磁带至今仍用于存档。磁带的主要缺点是访问速度，磁带是连续的，必须倒带或快进到达特定位置，可能要几百英尺才能得到某个字节(byte)，这很慢。

02

磁鼓存储器

1950,60年代，有个类似技术是 "磁鼓存储器"，有金属圆筒，盖满了磁性材料以记录数据，滚筒会持续旋转，周围有数十个读写头，等滚筒转到正确的位置读写头会读或写 1 位(bit) 数据。为了尽可能缩短延迟, 鼓轮每分钟上千转。
到 1953 年，磁鼓技术飞速发展，可以买到存 80,000 位的"磁鼓存储器"，也就是 10 KB。
03

硬盘

但到 1970 年代 "磁鼓存储器" 不再生产，然而，磁鼓导致了硬盘的发展 硬盘和磁鼓很相似，不过硬盘用的是盘，不像磁鼓用圆柱体，因此得名。原理是一样的，磁盘表面有磁性，写入头和读取头  可以处理上面的 1 和 0。硬盘的好处是薄，可以叠在一起，提供更多表面积来存数据。
IBM 对世上第一台磁盘计算机就是这样做的（RAMAC 305），它有 50 张 24 英寸直径的磁盘，总共能存 5 MB 左右，太棒啦! 终于能存一张现代手机的照片了！这年是 1956 年。
要访问某个特定 bit，一个读/写磁头会向上或向下移动，找到正确的磁盘，然后磁头会滑进去。就像磁鼓存储器一样，磁盘也会高速旋转，所以读写头要等到正确的部分转过来。RAMAC 305 访问任意数据，平均只要六分之一秒左右，也叫寻道时间，虽然六分之一秒对存储器来说算不错，但对内存来说还不够快，所以 RAMAC 305 还有"磁鼓存储器"和"磁芯存储器"。
这是"内存层次结构"的一个例子，一小部分高速+昂贵的内存，一部分稍慢+相对便宜些的内存，还有更慢+更便宜的内存这种混合在成本和速度间取得平衡。
1970 年代，硬盘大幅度改进并变得普遍，如今的硬盘可以轻易容纳 1TB 的数据，能存 20 万张 5MB 的照片。网上最低 40美元左右就可以买到，每 bit 成本 0.0000000005 美分，比磁芯内存 1 美分 1 bit 好多了。另外，现代硬盘的平均寻道时间低于 1/100 秒。
04

软盘

我简单地提一下硬盘的亲戚，软盘，除了磁盘是软的，其他基本一样。你可能见过某些程序的保存图标是一个软盘，软盘曾经是真实存在的东西！软盘是为了便携，在 1970~1990 非常流行，如今当杯垫挺不错的。密度更高的软盘，如 Zip Disks，在90年代中期流行起来，但十年内就消失了。

05

光盘

光学存储器于 1972 年出现，12 英寸的"激光盘"，你可能对后来的产品更熟：光盘（简称 CD）。以及 90 年代流行的 DVD，功能和硬盘软盘一样，都是存数据。但用的不是磁性，光盘表面有很多小坑，造成光的不同反射，光学传感器会捕获到，并解码为 1 和 0。
如今，存储技术在朝固态前进，没有机械活动部件。比如这个硬盘，以及 U 盘，里面是集成电路，我们在前面讨论过。第一个 RAM 集成电路出现于 1972 年 成本每比特 1 美分，使"磁芯存储器"迅速过时。
06

SSD

如今成本下降了更多机械硬盘被固态硬盘逐渐替代，简称 SSD，由于 SSD 没有移动部件，磁头不用等磁盘转，所以 SSD 访问时间低于 1/1000 秒，这很快！但还是比 RAM 慢很多倍，所以现代计算机 仍然用存储层次结构。
我们从 1940 年代到现在进步巨大，就像在前面讨论过的 晶体管数量和摩尔定律，内存和存储技术也有类似的趋势，从早期每 MB 成本上百万美元，下滑到，2000 年只要几分钱，如今远远低于 1 分钱。完全没有打孔纸卡，你能想象 SEGA 的纸卡房间风一吹会怎样吗？62,500 张卡，我想都不敢想。
相关阅读：

 

————————————————
版权声明：本文为CSDN博主「编程真知」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/cq20110310/article/details/100978275